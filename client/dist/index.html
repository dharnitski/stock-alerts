<!DOCTYPE html>
<html>

<head>
    <title>My first Vue app</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.2.0/vue.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue-resource/1.2.1/vue-resource.min.js"></script>
</head>

<body>
    <div id="app">
        <ol>
            <halt-item v-for="item in halts" v-bind:halt="item" v-bind:key="item.id">
            </halt-item>
        </ol>
    </div>

    <script>
        Vue.component('halt-item', {
            props: ['halt'],
            template: '<li>{{ halt.haltTime }} - {{ halt.symbol }}</li>',
        })
        var app = new Vue({
            el: '#app',
            data: {
                halts: [{
                    id: 'WG1',
                    symbol: 'WG',
                    name: 'Willbros Group, Inc.',
                    market: 'NYSE',
                    reasonCode: 'T1',
                    haltTime: new Date('2018-03-26T17:00:42.000Z')
                }]
            },
            created: function() {
                this.$http.get('https://k3aizldtaj.execute-api.us-east-1.amazonaws.com/dev/halts/list')
                    .then((response) => {
                        this.halts = response.data;
                    });
            },
            methods: {}
        })
    </script>
</body>

</html>

